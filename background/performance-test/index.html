<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="https://cdn.vectorly.io/ai-filters/v1/dev/7f8deff/vectorly.filters.js"></script>
</head>
<body>


<input id="button" type="button" value="Run performance check" onclick="runPerformanceCheck()">
<br/>
<div id="msg"></div>

<pre id="output"></pre>

<script>

    const output = document.getElementById('output');
    const msg = document.getElementById('msg');
    const button = document.getElementById('button');
    const BackgroundFilter = vectorly.BackgroundFilter;


    function runPerformanceCheck(){

        msg.textContent = "Running background test...";

        button.style.display = "none";
        output.textContent = "";

        BackgroundFilter.checkPerformance({token: getUrlParams('token') || '0b5707c6-6642-4cc8-8570-b29af9e51345',}).then(function (result){
            console.log("Performance check complete");

            button.style.display = "block";

            msg.textContent = "Performance check complete";

            document.getElementById('output').textContent = JSON.stringify(result, undefined, 2);

        }).catch(function (e){

            console.warn("An error ocurred while checking the performance");
            console.log(e);


        });
    }


    function getUrlParams(prop) {
        window.searchParams = window.searchParams || (new URLSearchParams(window.location.search));
        return window.searchParams.get(prop)
    }



</script>
</body>
</html>